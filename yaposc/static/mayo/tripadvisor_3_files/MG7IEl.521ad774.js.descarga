(this.$WP=this.$WP||[]).push(["MG7IEl",(e,t)=>{"use strict";var n,r,a,o,i,l,s,d,u,m,c,p,h,f,g,E,v,C,y,P,b,R,w,k,B,I,_,A,x,L,S,W,$,M,N,O,U,z,j,H,T,q,D,G,J,Q,V,Z,F=(e,t,n,r)=>!u("sentryio_js")||M?Promise.resolve():A(e,t,n,r).then(e=>{M=e,define("@ta/sentryBridge",[],()=>e)}),X={},Y={},K={},ee=e=>(E(e.messages),m(e.features),Promise.all([...e.css.map(e=>(e in K||(K[e]=I(N.redux.meta.imageCdnUrl+e)),K[e])),...e.js.map(e=>(e in K||(K[e]=_(N.redux.meta.imageCdnUrl+e)),K[e]))]).then(()=>$WP.getChunkPromise(e.chunkId))),te={},ne=e=>(e in X||(X[e]=fetch("/data/1.0/bundle/dependencies/bundle?name="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":T}}).then(e=>e.json()).then(t=>(te[e]=t.chunkId,t)).then(ee)),X[e]),re=e=>(e in Y||(Y[e]=fetch("/data/1.0/bundle/dependencies/chunk?id="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":T}}).then(e=>e.json()).then(ee)),Y[e]),ae=(e,t)=>n.createElement(d,{store:O},n.createElement(h,{store:O,apolloClient:D,urqlClient:G},e)),oe=()=>{var[e,{uid:t}]=n.useContext(S);return W(e,t),L(),null},ie="data-component-init",le=(e,t,a={})=>{var o=document.getElementById(e);if(null!==o){if(!o.getAttribute(ie)){o.setAttribute(ie,ie);var i=e=>{new l(O,e,a).reload(),r(ae(n.createElement(e,a)),o)};if("string"==typeof t){var s=te[t];$WP.getChunkPromise(s).then(e=>i(e.default))}else i(t)}}else console.error("Unable to find DOM element with id = "+e)},se=e=>{var t=document.getElementById(e);null!==t&&(a(t),t.removeAttribute(ie))},de=(e,t,r={})=>{var a=document.getElementById(e);if(null!==a){if(!a.getAttribute(ie)){a.setAttribute(ie,ie);var i=e=>{new l(O,e,r).stage(r),o(ae(n.createElement(e,r)),a)};if("string"==typeof t){var s=te[t];$WP.getChunkPromise(s).then(e=>i(e.default))}else i(t)}}else console.error("Unable to find DOM element with id = "+e)},ue=(e,t)=>{var r=n.createElement(h,{store:O,apolloClient:D,urqlClient:G},e);return t&&(r=n.createElement(d,{store:O},r)),r};return[()=>{({pageManifest:N}=__WEB_CONTEXT__),v("Components Initialization"),v("Components Bundle Load"),N.bundles.forEach(e=>{Y[e]=$WP.getChunkPromise(e)}),Promise.all(Object.values(Y)).then(()=>{C("Components Bundle Load")}),N.assets.forEach(e=>{K[e]=Promise.resolve(!0)}),E(N.messages),m(N.features),O=b(N.redux),({csrfToken:U}=O.getState().auth),({vcsRevision:z,vcsBranch:j,uid:H}=O.getState().tracking),T=O.getState().webVersion||`${j||""}|${z||""}`,q=new c,N.apolloCache&&q.restore(N.apolloCache),D=p(q,U),G=g({securityToken:U,ssrData:N.urqlCache,initialPvid:H}),window.__APOLLO_CLIENT__=D,$WP.installResolver(re),J=n.createElement(d,{store:O},n.createElement(i,{store:O},n.createElement(y,null,n.createElement($,null),n.createElement(P,null),n.createElement(oe,null),n.createElement(x,{installer:F,fallbackPageName:N.redux.route.page,project:"tripadvisor-web-app"}),n.createElement(s,null)))),v("Loadables"),Q=Promise.all(N.lazyLoadedModules.filter(e=>!!e).map(e=>$WP.getChunkEmptyPromise(e))).finally(()=>{C("Loadables");var{body:e}=document,t=document.createElement("div");t.id="singletonRoot",e&&(e.appendChild(t),r(ae(J),t)),v("Hydration"),O.dispatch(R());var a=[];return N.hydrations.forEach(e=>{var t=document.getElementById(e.id);null===t||t.getAttribute(ie)||(t.setAttribute(ie,ie),a.push(()=>new Promise(r=>{$WP.getChunkPromise(e.package).then(a=>{e.package,e.id,new l(O,a.default,e.props).stage(e.props),o(ae(n.createElement(a.default,e.props)),t,()=>{r()})})})))}),Promise.all(a.map(e=>{var t=e();return t?t.then(null,()=>null):t}))}).finally(()=>{C("Hydration"),O.dispatch(w()),k(),v("Render");var e=[];N.renders.forEach(t=>{var a=document.getElementById(t.id);null===a||a.getAttribute(ie)||(a.setAttribute(ie,ie),e.push(new Promise(e=>{$WP.getChunkPromise(t.package).then(o=>{new l(O,o.default,t.props).reload(),t.package,t.id,r(ae(n.createElement(o.default,t.props)),a,()=>{e()})})})))}),Promise.all(e).finally(()=>{if(C("Render"),C("Components Initialization"),u("prod_runtime_tracking")&&"undefined"!=typeof window&&window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName("components-Components Initialization-end","mark");if(e&&e.length>0){var t=e[0].startTime;null!==t&&B({module:"runtime",action:"initialization_complete",context:Number(t).toString()})}}})}),V=N.hydrations.concat(N.renders).reduce((e,t)=>(e[t.id]=t.props,e),{}),Z=f,define("@ta/platform.runtime",[],()=>({pageManifestComponents:V,wrapSubrootElement:ue,hydrateRoot:de,destroyRoot:se,createRoot:le,default:Q,restoreGraphQLResults:Z,importBundle:ne})),e("default",Q),e({createRoot:le,destroyRoot:se,hydrateRoot:de,importBundle:ne,pageManifestComponents:V,wrapSubrootElement:ue})},[e=>n=e.default,e=>(r=e.render,a=e.unmountComponentAtNode,o=e.hydrate),e=>i=e.Provider,e=>l=e.ApiMonitor,e=>s=e.ConsentProvider,e=>d=e.ErrorBoundary,e=>(u=e.featureIsEnabled,m=e.loadFeatures),e=>(c=e.DummyCache,p=e.buildClient,h=e.Root,f=e.restoreGraphQLResults),e=>g=e.buildUrqlClient,e=>E=e.loadMessages,e=>(v=e.start,C=e.end),e=>(y=e.Router,P=e.History),e=>(b=e.initializeStore,R=e.pauseRequestAction,w=e.resumeRequestAction,k=e.storeResizeHandler),e=>B=e.default,e=>(I=e.importCss,_=e.importScript),e=>(A=e.installSentry,x=e.Sentry),e=>L=e.useSubmitInteractionBufferEffect,e=>S=e.Route,e=>W=e.usePageViewLogging,e=>$=e.PopupHierarchyRootRenderer]]},["cDcdfi","faye7n","h74DsO","RiHMo-","lMO0v3","nIW_Rw","-i3PJS","6hYgtn","OnmvvE","535agn","B7vHz6","N4pTU2","aunxON","Jk5sjx","pLbCP4","UhC_bI","fsml46","2R4xv2","xZoNdB","drdfeZ"]]);
