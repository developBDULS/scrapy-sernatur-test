(this.$WP=this.$WP||[]).push(["N4pTU2",(e,t)=>{"use strict";var a,r,o,i,n,s,l,u,p,d,c,v,g,h,m,f,b,w,y,P,O,k,j,C,R,I,N,S,E,T;function x(e){var t,r=t=>a.createElement(b,null,({route:r,navigate:o,previousRoute:i,popping:n})=>a.createElement(e,{popping:n,route:r,previousRoute:i,navigate:o,props:t}));return r.displayName=`withRouteContext(${t=e,t.displayName||t.name||"UnnamedComponent"})`,r}function L(e,t){if(null==e)return{};var a,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}var M=e=>(t,a)=>{var{tripModal:r}=a,o=L(a,["tripModal"]);if("object"==typeof r){var{title:i,id:n,scrollToReference:s}=r;if(n){var l="Trips/"+n;return i&&(l+="/"+encodeURIComponent(i)),s&&s.type&&s.id&&(l+=`?type=${s.type}&id${s.id}`),{path:l}}}return e(t,o)},$=e=>({path:e}),B=e=>{var t={preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]};if(!e)return t;var a=e.split("_"),r=Number(a[1]);if(!isNaN(r))switch(a[0]){case"ForumPost":t.preloadForumPostIds=[r];break;case"LinkPost":t.preloadLinkPostIds=[r];break;case"Photo":t.preloadPhotoIds=[r];break;case"Repost":t.preloadRepostIds=[r];break;case"Review":t.preloadReviewIds=[r];break;case"Video":t.preloadVideoIds=[r];break;case"MediaBatch":t.preloadMediaBatchIds=[r]}return t},H=e=>{var{modal:t,card:a}=e;return t?B(t):a?B(a):{preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]}},U=e=>({username:e}),_=(e,t)=>({tripId:e,tripTitle:t}),W=(e,{tripId:t})=>{var a=e;return t&&(a+="/"+t),{path:a}},V=e=>({tripId:e}),A=/^([^-]+)-(.*)$/,D=/\.([a-z]*[_|.])?(?:html|xml)$/,F=(e,...t)=>{var a,r,o=A.exec(e),i={};if(o&&(i={page:o[1]},o[2])){var n=(a=o[2],((r=D.exec(a))&&r.index?a.substring(0,r.index):a).split("-").filter(e=>null!==e&&""!==e).map(e=>{var t,a=null,r=null;if(e.length>=3&&(e.startsWith("zf")||e.startsWith("zu")||e.startsWith("zr")||e.startsWith("zs")))a=e.substring(0,3),r=e.substring(3);else{if(a=e.substring(0,1),r=e.substring(1),(t=a)&&t===t.toUpperCase()&&t!==t.toLowerCase()||(e=>!isNaN(parseInt(e,10)))(a)||"_"===a)return null;a=(e=>{switch(e){case"g":return"geo";case"d":return"detail";default:return e}})(a)}return{key:a,value:r}}).reduce((e,t)=>{if(t&&null!==t.key&&""!==t.key&&null!==t.value){var a={};return a[t.key]=t.value,Object.assign({},a,{},e)}return e},{}));i=Object.assign({},n,{},i)}var s=t?t.filter(e=>""!==e):void 0;return s&&s.length?Object.assign({page:e},i,{nonEmptyPathParams:s}):Object.assign({page:e},i)},G=/^\/([^?]+)(?:\?(.*))?$/,z=/Tourism-g(\d+)/g,J=e=>{var{page:t}=e,a=L(e,["page"]),r=(O[t]||O.default)(t,a),{path:o}=r,i=L(r,["path"]),n=o;i.nonEmptyPathParams&&i.nonEmptyPathParams.length&&i.nonEmptyPathParams[0].match(z)&&(n=i.nonEmptyPathParams.shift(),i.nonEmptyPathParams.length||(i.nonEmptyPathParams=void 0));var s=Object.keys(i).filter(e=>void 0!==i[e]).reduce((e,t)=>(e[t]=i[t],e),{}),l=new URLSearchParams(s).toString();return`/${n}${l.length?"?":""}${l}`},Q=e=>{var t,a,[,r,o]=G.exec(e)||[null,"",""],[...i]=r.split("/"),n=e.match(z);if("/"===e)a="Home";else if(n&&n.length>0)a=n[0].replace("Tourism","Home");else{if(!r)return null;a=i.shift()}var s=k[a];return t=s?Object.assign({page:a},s(...i)):Object.assign({},k.default(a,...i)),new URLSearchParams(o).forEach((e,a)=>{t[a]=e}),t},Y=["Profile","Trips","Owners","BrandOwners","ManageShopping","SpecialOfferWebview","HotelsManagementCenter","HotelsManageListing","SafetyManagementCenter","FavoriteReviewManagement","OwnerVerification","SpecialOfferManagement","ViewAchAuthorization","Starter_Packages"],q=(e,t=Y)=>t.includes(e.page),K=(e,t,a=Y)=>e.page===t.page||q(e,a)&&q(t,a),X=({href:e,to:t,target:r,onClick:o,children:i,className:n,activeClassName:s,title:l,label:u,dataAttributes:p,stripNoreferrerNoopener:d,dir:c,rel:v})=>{var g=t&&void 0===e?J(t):e,h=v;return null==h&&(h="_blank"!==r||d?null:"noopener noreferrer"),a.createElement(b,null,({navigate:e,route:s})=>a.createElement("a",Object.assign({rel:h,href:g,target:r,onClick:a=>{o&&o(a),0!==a.button||a.isDefaultPrevented()||e&&t&&K(s,t)&&e(t)&&a.preventDefault()},className:n,title:l,"aria-label":u},(e=>{var t={};return e&&Object.getOwnPropertyNames(e).forEach(a=>{t["data-"+a]=e[a]}),t})(p),Object.assign({},c?{dir:c}:null)),i))},Z=(e,t)=>Object.keys(t).reduce((a,r)=>{return a&&!!((o=t[r])===(i=e[r])||"function"==typeof o&&o(i));var o,i},!0),ee=e=>{var{route:t,navigate:r}=a.useContext(m),o=Object.assign({},t,{},e),i=Z(t,Object.entries(e).reduce((e,[t,a])=>Object.assign(e,{[t]:e=>n(a,e)}),{})),s=Object.assign({},t);Object.keys(e).forEach(e=>{delete s[e]});var l=a.useCallback(()=>{r(o)},[r,o]),u=a.useCallback(()=>{var e,t;null!=(null==(e=window)||null==(t=e.history)?void 0:t.state)?window.history.back():r(s)},[r,s]);return{matches:i,to:o,without:s,open:l,close:u}},te=e=>{var{mobileTarget:t,viewportCategory:r}=e,o=L(e,["mobileTarget","viewportCategory"]),i="MOBILE"===r&&t?t:o.target;return a.createElement(X,Object.assign({},o,{target:i}))},ae=e=>{var{route:t,props:{children:a}}=e,r=L(e.props,["children"]);return Z(t,r)&&a||null},re=(e,t)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((a,r)=>a&&e[r]===t[r],!0),oe=e=>{var{route:t,props:{children:a}}=e,r=L(e.props,["children"]);return re(t,r)&&a||null},ie=["Trips","TripsWebview","Owners","BrandOwners","HotelsManagementCenter","DestinationArticle","HotelsManageListing","SafetyManagementCenter"],ne={},se=(e,t)=>!!(t.exact&&re(e,t.exact)||t.match&&Z(e,t.match)),le=(e,t,r)=>s(e=>({currentRoute:e.route}))(((e,t,r)=>{var o=new Map,i=e=>{var t,r;return o.has(e)||o.set(e,(t=e.component,{loadable:r=new d(t),component:()=>a.createElement(c,{component:r})})),o.get(e)},n=({currentRoute:t})=>{var o=e.filter(e=>se(t,e)).map((e,t)=>a.createElement(i(e).component,{key:t}));return a.createElement(b,null,e=>a.createElement(f,{value:Object.assign({},e,{navigate:(t,a={})=>e.navigate(t,Object.assign({},a))})},a.createElement(r||a.Fragment,null,o)))};return n.stage=(...t)=>{e.filter(e=>se(u().getState().route,e)).forEach(e=>{var a=i(e);a.loadable.isLoaded()&&("function"==typeof a.loadable.stage&&a.loadable.stage(...t),"function"==typeof a.loadable.get().stage&&a.loadable.get().stage(...t))})},n.ssrQueries=t=>{var a=[];return e.filter(e=>se(t.route,e)).forEach(e=>{var{loadable:t}=i(e);if(t.isLoaded()){var r=t.getSsrQueries();"function"==typeof r&&a.push(r)}}),0!==a.length?a.map(e=>e(t)):null},n})(e,0,r)),ue=()=>{var{route:{detail:e}}=a.useContext(m);try{return parseInt(e,10)}catch(e){return console.error("Could not parse detail parameter as a number",e),null}},pe=(e=(()=>!0))=>{var{addBeforeNavigationCallback:t,removeBeforeNavigationCallback:a}=r(m),[n,s]=o();if(i(()=>{var r=t=>!!e(t.to)&&(s(t),!0);return t(r),()=>a(r)},[e,t,a]),null!=n){var{to:l,continueNavigation:u}=n;return[l,()=>{s(null),u()},()=>{s(null)}]}return[null,()=>{},()=>{}]};return e("withRouteContext",x),[()=>{m=a.createContext({route:{},previousRoute:{},navigate:()=>{},addBeforeNavigationCallback:()=>{},removeBeforeNavigationCallback:()=>{},popping:!1}),({Provider:f,Consumer:b}=m),w=M((e,t)=>{var{modal:a,card:r,username:o,fid:i,geo:n,allowedTypes:s}=t,l=L(t,["modal","card","username","fid","geo","allowedTypes"]),u="",p=["LinkPost","ForumPost","Repost","Review","Photo","Video"],d=l,c=i;if(o&&"string"==typeof o){if(a&&"string"==typeof a){var v=a.split("_");u=p.includes(v[0])?`Profile/${o}/${v.join("/")}`:`Profile/${o}/${a}`,c=void 0}else if(!("tab"in l)&&r&&"string"==typeof r){var g=r.split("_");p.includes(g[0])?u+=`Profile/${o}/${g.join("/")}`:u+=`Profile/${o}/${r}`}}else n&&(u+="Home-g"+n);return c&&(d.fid=i),s&&(d.allowedTypes=s),Object.assign({path:u},d)}),y=M((e,t)=>{var{modal:a,card:r,username:o,fid:i}=t,n=L(t,["modal","card","username","feedIdToRestore","fid"]),s=e;o&&(s+="/"+o);var l=["LinkPost","ForumPost","Repost","Review","Photo","Video","MediaBatch"],u=n,p=i;if(a&&"string"==typeof a){var d=a.split("_");l.includes(d[0])?s+="/"+d.join("/"):s+="/"+a,p=void 0}else if(!("tab"in n)&&r&&"string"==typeof r){var c=r.split("_");l.includes(c[0])?s+="/"+c.join("/"):s+="/"+r}return p&&(u.fid=i),Object.assign({path:s},u)}),P=M((e,t)=>{var{tripId:a,tripTitle:r}=t,o=L(t,["tripId","tripTitle"]),i=e;return a&&(i+="/"+a,r&&(i+="/"+encodeURIComponent(r))),Object.assign({path:i},o)}),O={default:M((e,t)=>Object.assign({path:e},t)),Home:w,Profile:y,Trips:P,Saves:W},k={default:F,Home:$,Profile:U,Trips:_,Saves:V},X.defaultProps={target:void 0,onClick:void 0,children:null,className:"",activeClassName:"",to:void 0,href:void 0,title:void 0,dataAttributes:void 0,stripNoreferrerNoopener:!1,dir:""},j=s(e=>({viewportCategory:e.meta.device.viewportCategory}))(te),C=x(ae),R=x(oe),I=new Set,e("Router$1",v=class extends a.Component{constructor(...e){super(...e),this.state={previous:null}}record(e,t,a=!1){p({module:e.page,action:"SPA_NAVIGATION"}),"object"==typeof window&&window.history&&(a?this.state.previous?window.history.back():t?(window.history.replaceState(e,"",J(e)),this.setState({previous:Object.assign({},t)})):(window.history.replaceState(e,"",J(e)),this.setState({previous:Object.assign({},e)})):(window.history.pushState(e,"",J(e)),this.setState({previous:Object.assign({},t)})))}render(){var{route:e,navigate:t,children:r}=this.props;return a.createElement(f,{value:{popping:!1,previousRoute:null,route:e,addBeforeNavigationCallback:e=>I.add(e),removeBeforeNavigationCallback:e=>I.delete(e),navigate:(a,r)=>{var o,{noHistory:i,reset:n}=r||{},s=Object.assign({},e),l=!1,u=()=>{var r;i||K(s,a)||(window.location=J(a),r=!0),t(a,J(a)),l&&window.history.back(),i||(ie.includes(a.page)&&ie.includes(e.page)&&a!==e&&window.scrollTo(0,0),r||this.record(a,s,n))};return o={to:a,continueNavigation:u},[...I].some(e=>e(o))?i&&(window.history.pushState(s,"",J(s)),l=!0):u(),!0}}},r)}}),N=s((e,t)=>Object.assign({},t,{route:e.route||{}}),{navigate:l.route.navigate})(v),e("History$1",g=class extends a.Component{constructor(...e){super(...e),this.popState=e=>{var t,{state:a}=e;(null==(t=a)?void 0:t.params)||(a&&a.page||(a=Q(window.location.pathname+window.location.search)),a&&this.props.navigate(a,{noHistory:!0})||window.location.reload())}}componentDidMount(){window.addEventListener("popstate",this.popState);var e=window.location.hash,{lithiumRoute:t}=this.props;if(e&&!t.fragment){var a=Object.assign({},t,{fragment:e.substring(1)});this.props.navigateLithium(a)}}componentWillUnmount(){window.removeEventListener("popstate",this.popState)}render(){return null}}),S=s((e,t)=>{var a;return Object.assign({},t,{lithiumRoute:(null==(a=e.lithiumRoute)?void 0:a[0])||{}})},{navigateLithium:l.lithiumRoute.navigate})(g),E=x(S),T={title:void 0,metaTags:[],canonicalUrl:void 0,openGraphInfo:void 0},e("HeadProperties",h=class extends a.Component{constructor(...e){super(...e),this.state={isMounted:!1}}static getCurrent(){return T}componentDidMount(){this.setState({isMounted:!0})}render(){if(this.state.isMounted)this.props.title&&(document.title=this.props.title);else{if(T.title=this.props.title||T.title,this.props.metaTags){var e=T.metaTags||[];this.props.metaTags.forEach(t=>{var a=JSON.stringify(t);a in ne||(ne[a]=!0,e.push(t),T.metaTags=e)})}T.canonicalUrl=this.props.canonicalUrl||T.canonicalUrl,T.openGraphInfo=this.props.openGraphInfo||T.openGraphInfo}return null}}),h.defaultProps={title:void 0,metaTags:void 0,canonicalUrl:void 0,openGraphInfo:void 0},e({Exact:R,HeadProperties:h,History:E,Link:X,Match:C,ResponsiveTargetLink:j,RouteConsumer:b,RouteContext:m,RouteProvider:f,Router:N,StaticLoadableRoutes:le,applyPredicates:se,buildUrl:J,canNavigate:K,exact:re,getPreloadIds:H,isRoutable:q,match:Z,parseUrl:Q,useBeforeNavigation:pe,useLocationDetail:ue,useRouteState:ee,withRouteContext:x})},[e=>(a=e,r=e.useContext,o=e.useState,i=e.useEffect),e=>n=e.default,e=>s=e.connect,e=>(l=e.actions,u=e.getStore),e=>p=e.default,e=>(d=e.Loadable,c=e.Load)]]},["cDcdfi","YwNsO_","h74DsO","aunxON","Jk5sjx","asW43G"]]);
