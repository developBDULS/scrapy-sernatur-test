(this.$WP=this.$WP||[]).push(["auVyhB",(e,i)=>{"use strict";var a,n,t,d,l,o,r,u=({photos:e,totalCount:i,loadMorePhotos:o,width:r,height:u,locationId:s,trackingContext:m,captureNavEvents:c})=>{var k=e.length,[v,h]=a.useState(0),p=t(),N=a.useCallback(e=>{c&&(e.stopPropagation(),e.preventDefault()),h(e=>{var a=Math.min(k-1,e+1);return o&&a>=k-2&&k<i&&o(),a}),p({module:"pin",action:"pin_photo_carousel_forward",context:m,value:s})},[k,s,p,m,i,o,c]),g=a.useCallback(e=>{c&&(e.stopPropagation(),e.preventDefault()),h(e=>Math.max(0,e-1)),p({module:"pin",action:"pin_photo_carousel_back",context:m,value:s})},[s,p,m,c]),f=a.useMemo(()=>e.map((e,i)=>a.createElement(d,{key:e.id,shouldLoad:Math.abs(v-i)<=2},a.createElement(l,{key:e.id,sources:e.photoSizes,notLazy:!0,width:"100%",height:"100%",fitStrategy:"cover"}))),[e,v]);return a.createElement(n,{width:r,height:u,displayIndex:v,totalContentCount:i,onPrevious:g,onNext:N,isPreviousAllowed:v>0,isNextAllowed:v<i-1,navArrowSize:"small",content:f})},s=e=>{var i,n=a.useRef(null),[t,d]=a.useState([]),[l,u]=a.useState(0),s=null===n?3:10,[{data:m,fetching:c}]=o({query:r,variables:{locationId:e,limit:(i=null===n,i?3:10),offset:l}});a.useEffect(()=>{var e=m&&m.locations?m.locations[0]:null;if(e&&!c){n.current=e.photoCount;var i=(e=>{var{photos:i}=e;return i&&i.filter(e=>e&&e.photoSizes).map(e=>e)})(e),a=(e=>{var{thumbnail:i}=e;return i&&i.photoSizes&&i})(e);i&&d(e=>e.concat(0===e.length&&a?[a]:[],i.filter(e=>!a||e.id!==a.id)))}},[m,c]);var k=a.useCallback(()=>{!c&&l+s<(n.current||0)&&u(l+s)},[c,l,s]);return{loading:c,photos:t,totalPhotoCount:n.current||0,loadMore:k}};return[()=>{(r=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"offset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photoCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"thumbnail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"ordering"},"value":{"kind":"EnumValue","value":"BIG_CAROUSEL_MGMT"}},{"kind":"Argument","name":{"kind":"Name","value":"page"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"offset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"offset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":402}}')).__key=0xc6c6ad9d5cad,r.loc.source={body:"c6c6ad9d5cad"},e("default",u),e("usePhotoProvider",s)},[e=>a=e,e=>n=e.default,e=>t=e.useGARecorder,e=>d=e.default,e=>l=e.ResponsiveImage,e=>o=e.useQuery]]},["cDcdfi","kp5583","fsml46","PbGVd2","KwOV1Z","5X2em-"]]);
