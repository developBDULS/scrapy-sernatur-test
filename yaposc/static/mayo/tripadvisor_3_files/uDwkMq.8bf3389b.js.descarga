(this.$WP=this.$WP||[]).push(["uDwkMq",(e,a)=>{"use strict";var t,l,r,i,u,n,s,m,c,o,d,v,f,p,_,h,g,E,N,T,b,k,x,y,D,C,q={firstName:{value:"",isRequired:!0},lastName:{value:"",isRequired:!0},phoneNumber:{value:"",isRequired:!0},email:{value:"",isRequired:!0}},L=({children:e})=>{var a=s(q,y);return t.createElement(C.Provider,{value:a},e)},P=(e,a)=>{var{state:t,update:l}=r(C),i=t[e];n(()=>{i.isDirty||i.value===a||l(e,{value:a})},[e,a,l])},R=({initialFirstName:e="",initialLastName:a="",initialEmail:l="",initialPhoneNumber:n="",checkoutType:s,onChangeCallback:m})=>{var c,{state:{firstName:o,lastName:d,phoneNumber:y,email:D},update:q}=r(C),L=m?(e,a)=>{m(),q(e,a)}:q,{localize:R}=N(),[O,B]=i(o.value),[I,V]=i(d.value),[F,S]=i(y.value),[w,A]=i(D.value),[,{uid:z}]=r(p),{funnelKey:H}=r(_),U=T(),K=b(),W=u(e=>{var a={formFieldChange:{funnelKey:H,pageviewUid:z,formName:"TravelerDetails",fieldName:e.field}};switch(s){case"STANDALONE":K({OptimusStandaloneCheckout:a});break;case"HOTEL":K({OptimusHotelCheckout:a})}},[s,H,K,z]),X=u(()=>{var t=[{fieldName:"firstName",isPrefilled:!!e},{fieldName:"lastName",isPrefilled:!!a},{fieldName:"email",isPrefilled:!!l},{fieldName:"phoneNumber",isPrefilled:!!n}],r=t.some(e=>e.isPrefilled);s&&U({optimusCheckoutForm:{flow:s,funnelKey:H,pageviewUid:z,formName:"TRAVELERDETAILS",isPrefilled:r,formFields:t}})},[s,H,U,e,a,l,n,z]);return P("firstName",e),P("lastName",a),P("email",l),P("phoneNumber",n),t.createElement(v,{onIsVisibleCallback:()=>X()},t.createElement("form",null,t.createElement(f,{variant:"title-03",elementType:"h2",marginBottom:"spacing-04"},t.createElement(E,{id:"plus_checkout_traveler_details_heading"})),t.createElement(h,{space:"spacing-03"},t.createElement(g,{display:"flex",flexDirection:["column","column","row"],alignItems:"stretch"},t.createElement("div",{className:"_3zqX3vO2"},t.createElement(x,{id:"tdf-first",label:t.createElement(f,{variant:"title-05"},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_first_name_field"}))),type:"text",value:o.value,onChange:e=>L("firstName",{value:e.currentTarget.value}),errorText:o.isError?R.string("plus_checkout_error_state_first_name"):void 0,onBlur:e=>{e.currentTarget.value!==O&&(W({field:"FirstName"}),B(e.currentTarget.value)),q("firstName",{isDirty:!0})}})),t.createElement(g,{marginTop:"spacing-03",marginLeft:"spacing-03"}),t.createElement("div",{className:"_3zqX3vO2"},t.createElement(x,{id:"tdf-last",label:t.createElement(f,{variant:"title-05"},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_last_name_field"}))),type:"text",value:d.value,onChange:e=>L("lastName",{value:e.currentTarget.value}),errorText:o.isError?R.string("plus_checkout_error_state_last_name"):void 0,onBlur:e=>{e.currentTarget.value!==I&&(W({field:"LastName"}),V(e.currentTarget.value)),q("lastName",{isDirty:!0})}}))),t.createElement(x,{id:"tdf-phone",label:t.createElement(f,{variant:"title-05"},t.createElement(k,null,t.createElement(E,{id:"plus_checkout_phone_number_field"}))),type:"tel",value:y.value,onChange:e=>L("phoneNumber",{value:e.currentTarget.value}),errorText:y.isError?R.string("plus_checkout_error_state_phone_number"):void 0,onBlur:e=>{e.currentTarget.value!==F&&(W({field:"PhoneNumber"}),S(e.currentTarget.value)),q("phoneNumber",{isDirty:!0})}}),t.createElement(x,{id:"tdf-email",label:t.createElement(f,{variant:"title-05"},t.createElement(E,{id:"plus_checkout_email_field"})),type:"email",value:D.value,onChange:e=>L("email",{value:e.currentTarget.value}),errorText:o.isError?R.string("plus_checkout_error_state_email"):void 0,onBlur:e=>{e.currentTarget.value!==w&&(W({field:"Email"}),A(e.currentTarget.value)),q("email",{isDirty:!0})},helperText:(null==(c=D.value)?void 0:c.length)&&("HOTEL"===s?R.string("plus_checkout_hotel_email_disclaimer_text",{email:D.value}):R.string("plus_checkout_subscription_email_disclaimer_text",{email:D.value}))||void 0,readOnly:!0}))))};return[()=>{y={firstName:c,lastName:c,phoneNumber:o,email:d},D={state:{firstName:m.required,lastName:m.required,phoneNumber:m.required,email:m.required},update:()=>{},validate:()=>!1,setHasError:()=>{}},C=l(D),e("default",R),e({TravelerDetails:C,TravelerDetailsProvider:L})},[e=>(t=e.default,l=e.createContext,r=e.useContext,i=e.useState,u=e.useCallback,n=e.useEffect),e=>(s=e.default,m=e.defaults),e=>(c=e.emptyValidator,o=e.phoneValidator,d=e.emailValidator),e=>v=e.IsVisibleOnce,e=>f=e.default,e=>p=e.Route,e=>_=e.FunnelTracking,e=>(h=e.Stack,g=e.Box),e=>(E=e.default,N=e.useLocalize),e=>T=e.useImpressionLogger,e=>b=e.useInteractionLogger,e=>k=e.RequiredLabel,e=>x=e.TextInput]]},["cDcdfi","8fiGCU","ivxRiU","BLrxBS","VP50Wc","2R4xv2","ETqDaL","SzaY02","0DsHEV","30t50h","fsml46","AFIA6D","7bbexq"]]);
