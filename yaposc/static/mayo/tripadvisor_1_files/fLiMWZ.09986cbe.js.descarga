(this.$WP=this.$WP||[]).push(["fLiMWZ",(e,t)=>{"use strict";var a,l,r,s,o,n,i,c,m,d,p,f,u,_,T,E,h,v,g,N,P,x={strikeThroughText:"_9RLeo7J7",priceText:"_1dd8uj5Z",providerDisplayName:"_1GDaM2x3",offerLink:"_27wsSHGU",detailsBlock:"_1MhFbYov",providerDisplayNameOuter:"lrmOJMoo",ctaBlock:"XaGo2YAM",detail:"_7rBTeb9m",detailShelfOffer:"B0wWWd6x",detailShelfBottom:"_20-KOO1d",detailShelfBottomCell:"_2DVFhcPO",mapBottomSmall:"_1yem-qUP",mapBottom:"_2RQ1c4qM",mapOffer:"_1hEExYut",detailBottom:"_FEU7Av8",detailBottomCell:"zSWeVc25",logoTextOffer:"mDFZNRGM",priceBlock:"_2S6TIoCV",perPersonText:"_24qhLjhM",logo:"i5W17ptf",detailChevronOffer:"_2wAhqH8C",logoTextOfferWrapper:"_2xfjwXC7",ctaWrapper:"JI8zk_PL",detailTextOffer:"_2_w5U1Rt",providerAndPrice:"_3M2BvM2a",separator:"_8dbPwtn7",dominantOffer:"_3jDKoNmF",logoText:"_2gzaqZFr",text:"_3Jw8a990"},O={DEFAULT_CTA_TEXT:()=>m("view_deal"),VP_BOARD_LABEL:e=>(e=>(g||(g={RO:m("board_basis_room_only"),SC:m("board_basis_self_catering"),BB:m("board_basis_breakfast_included"),HB:m("board_basis_half_board"),FB:m("board_basis_full_board"),AI:m("board_basis_all_inclusive")}),g[e]))(e)||null,VP_OFFER_HAS_AIRPORT_TRANSFER:()=>m("tags_category_tag_airport_transportation"),VP_STAY_NIGHTS_PLUS_FLIGHT:e=>m("num_night_stay_plus_flight_v2",{nNights:e}),VP_STAY_NIGHTS:e=>m("mobile_ib_nights_plural",{0:e}),VP_PER_PERSON:()=>m("vp_per_person_short"),VP_HOTEL_PLUS_FLIGHT:()=>m("hotel_plus_flight")},A=e=>{var{logoUrl:t,displayName:l,showExtLinkIcon:s,noLogo:o}=e;return t||l?o||!t?a.createElement("div",{className:x.providerDisplayNameOuter},a.createElement("span",{className:x.providerDisplayName},l),s?a.createElement(y,null):null):a.createElement(r,{className:i(x.logo),src:t,alt:l}):null},S=({children:e})=>a.createElement(d,{size:"large",type:"original"},e),y=()=>a.createElement(c,{name:"external-link-no-box"}),w=({priceText:e,strikeThroughText:t,isPerPersonRate:l=!0,showStrikeThroughPrice:r=!0})=>a.createElement("div",{className:x.priceBlock},r&&t&&t!==e?a.createElement("div",{className:x.strikeThroughText},t):null,a.createElement("div",{className:x.priceText},e,l&&a.createElement("span",{className:x.perPersonText},O.VP_PER_PERSON()))),b=({offer:e,fields:t})=>{var l=[];return t.forEach(t=>{var a=((e,t)=>{switch(t){case"boardBasis":return O.VP_BOARD_LABEL(e.boardBasisCode||"NONE");case"airportTransfer":return!0===e.hasAirportTransfer?O.VP_OFFER_HAS_AIRPORT_TRANSFER():null;case"hotelPlusFlight":return O.VP_HOTEL_PLUS_FLIGHT();case"numNightsPlusFlight":return e.stayNights>0?O.VP_STAY_NIGHTS_PLUS_FLIGHT(e.stayNights):null;case"numNights":return e.stayNights>0?O.VP_STAY_NIGHTS(e.stayNights):null;default:return null}})(e,t);null!=a&&l.push(a)}),l.map(e=>a.createElement("span",{className:x.detail,key:e},e))},k=e=>{var{offer:t,noLogo:l}=e,{strikeThroughText:r,priceText:s,providerDisplayName:i,providerLogoUrl:c}=t;return a.createElement("div",{className:x.logoTextOffer},a.createElement(o,{gapless:!0,verticallyCentered:!0,gaplessVertical:!0,mobile:!0},a.createElement(n,{width:6,mobile:{width:6}},a.createElement(A,{logoUrl:c,displayName:i,noLogo:l,showExtLinkIcon:!0})),a.createElement(n,{width:6,mobile:{width:6}},a.createElement(w,{priceText:s,strikeThroughText:r}))),a.createElement(o,{gapless:!0,gaplessVertical:!0,mobile:!0},a.createElement(n,{width:12,mobile:{width:12}},a.createElement("div",{className:x.detailsBlock},a.createElement(b,{offer:t})))))},D=e=>{var{viewDealText:t=O.DEFAULT_CTA_TEXT()}=e;return a.createElement("div",{className:i("ui_columns is-gapless is-gapless-vertical is-mobile",x.detailChevronOffer)},a.createElement(n,{width:8,mobile:{width:8}},a.createElement("div",{className:x.logoTextOfferWrapper},a.createElement(k,e))),a.createElement("div",{className:i("ui_column is-4 is-4-mobile",x.ctaWrapper)},a.createElement("div",{className:x.ctaBlock},a.createElement(S,null,a.createElement("span",{className:x.ctaText},t)))))},L=({offer:e})=>{var{providerDisplayName:t,priceText:l}=e;return a.createElement("div",{className:x.detailTextOffer},a.createElement("div",{className:x.providerAndPrice},a.createElement("div",{className:x.providerDisplayName},t,a.createElement(y,null)),a.createElement("span",{className:x.separator}),a.createElement("div",{className:x.priceText},l)),a.createElement("div",{className:x.detailsBlock},a.createElement(b,{offer:e})))},C=e=>{var{viewDealText:t=O.DEFAULT_CTA_TEXT()}=e;return a.createElement("div",{className:x.dominantOffer},a.createElement(k,e),a.createElement("div",{className:x.ctaBlock},a.createElement(S,null,t)))},R=e=>{var{viewDealText:t=O.DEFAULT_CTA_TEXT(),offer:l}=e,{priceText:r,providerDisplayName:s,providerLogoUrl:o}=l;return a.createElement("div",{className:x.detailShelfOffer},a.createElement("div",{className:x.detailsBlock},a.createElement(b,{offer:l,fields:["boardBasis","airportTransfer","numNights"]})),a.createElement("div",{className:x.detailShelfBottom},a.createElement("div",{className:x.detailShelfBottomCell},a.createElement(w,{priceText:r}),a.createElement(A,{logoUrl:o,displayName:s,noLogo:!0,showExtLinkIcon:!0})),a.createElement("div",{className:x.detailShelfBottomCell},a.createElement(d,null,t))))},B=e=>{var{viewDealText:t=O.DEFAULT_CTA_TEXT(),offer:l,mapOfferType:r}=e,{strikeThroughText:s,priceText:o,providerDisplayName:n,providerLogoUrl:i,isPerPersonRate:c}=l;return a.createElement("div",{className:x.mapOffer},a.createElement("div",{className:x.detailBottom},a.createElement("div",{className:"list"===r?x.mapBottomSmall:x.mapBottom},a.createElement(w,{priceText:o,strikeThroughText:s,isPerPersonRate:c,showStrikeThroughPrice:!1}),a.createElement(A,{logoUrl:i,displayName:n,noLogo:!0,showExtLinkIcon:!0})),a.createElement("div",{className:x.detailBottomCell},a.createElement(d,{size:"small",type:"original"},t))))},I=e=>{var t,{displayType:l,offer:r,onClick:o,className:n,viewportCategory:c}=e,{offerUrl:m}=r;return t="detailChevron"===l?a.createElement(D,e):"dominant"===l?a.createElement(C,e):"logoText"===l?a.createElement("div",{className:x.logoText},a.createElement(k,e)):"text"===l?a.createElement("div",{className:x.text},a.createElement(k,Object.assign({},e,{noLogo:!0}))):"detailText"===l?a.createElement(L,e):"detailShelf"===l?a.createElement(R,e):"mapList"===l?a.createElement(B,Object.assign({mapOfferType:"list"},e)):"mapPopup"===l?a.createElement(B,Object.assign({mapOfferType:"popup"},e)):null,"none"===l?null:a.createElement(s,{target:"MOBILE"===c?"_self":"_blank",encodedUrl:m,useSpan:!1,onClick:e=>o(r,e),className:i(x.offerLink,n)},t)},U=e=>{var{onViewDeal:t,offers:l,displayType:r,separator:s,className:o}=e,n=l.map(e=>a.createElement("li",{className:"_1KUU8D2Z",key:e.offerUrl},a.createElement(N,{displayType:r,offer:e,onClick:t})));return a.createElement("ul",{className:i("T-EnsyQ5",s&&"_1_7XAICb",o)},n)},F={metaOfferWidget:"_2reSu0__",popoverAltTreatment:"_1C6DcrDj",inlineAltTreatment:"_1kT9QoJK",popoverInner:"_15Sxrvmt",expanderMobile:"_20Wpz3ZY",expanderDesktop:"_1tWeuD8i",disabled:"_3B9cXAtw"},V=e=>m("view_all_n_deals_plural",{0:e}),G=(e,t)=>m("view_all_deals_from_commerce_on_list_screen",{0:e,1:t}),W=({expand:e,children:t})=>a.createElement(f,{mobile:a.createElement("a",{onClick:e,className:i("ui_button secondary",F.expanderMobile)},t),tablet:a.createElement("a",{onClick:e,className:i("ui_button secondary",F.expanderMobile)},t),desktop:a.createElement("a",{onClick:e,className:i(F.expanderDesktop)},t)}),j=e=>(e.filter(e=>!!e.isLowestPrice).shift()||e[0]||{}).priceText,M={UNSUPPORTED_GEO:"UNSUPPORTED_GEO",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},H={PARTNERS:"PARTNERS",NONE:"NONE"},X=(e,t,a,l)=>{var r,s=!1;return u(((e,t)=>(t,a)=>{var l,s,o,n,i,c={};return e&&null===(c=e(t,a))?null:((e,t,a)=>{var l=Object.assign({},e,{rn:a,queryId:t});return"/data/1.0/vacationpackages/offers?"+Object.keys(l).sort().filter(e=>null!=l[e]&&0!==l[e].length).map(e=>`${P(e)}=${P(l[e])}`).join("&")})(Object.assign({rc:(null==(l=t.route)?void 0:l.page)||(null==(s=t.meta)?void 0:s.initialServletName)||"dataapi",locale:null==(o=t.i18n)?void 0:o.locale,currency:null==(n=t.travelerInfo)||null==(i=n.preferences)?void 0:i.currency},c,{hotels:(c.hotels||[]).join(","),geoId:c.geo||t.page.geoId,excludeProviders:(c.excludeProviders||[]).join(","),childrenAges:(c.childrenAges||[]).join(",")}),r,a)})(e),e=>(s=t&&t()||!(!e||!(e.error||e.status&&e.status!==M.IN_PROGRESS)),r=s?null:e&&e.queryId,s),(e,t,l)=>a(e,t,l,s),l)},J=e=>{var{startDate:t,endDate:a}=_(e);return t&&a&&new T(t).daysTo(new T(a))},q=(e,t,a)=>{var l={module:e,action:t};void 0!==a&&(l.value=a),E(l)},Y=(e,t,a)=>{var l={module:e,action:t};void 0!==a&&(l.value=a),h(l)};return[()=>{A.defaultProps={logoUrl:null,displayName:null,showExtLinkIcon:!1,noLogo:!1},w.defaultProps={strikeThroughText:null,isPerPersonRate:!0,showStrikeThroughPrice:!0},b.defaultProps={fields:["boardBasis","airportTransfer","hotelPlusFlight"]},D.defaultProps=I.defaultProps={onClick:()=>{},noLogo:!1,boardBasisCode:null,hasAirportTransfer:null},C.defaultProps=I.defaultProps,k.defaultProps=I.defaultProps,L.defaultProps=I.defaultProps,R.defaultProps=I.defaultProps,N=l((e,t)=>Object.assign({},t,{viewportCategory:e.meta.device.viewportCategory}))(I),U.defaultProps={onViewDeal:()=>{},separator:!1,displayType:"logoText",className:null},e("VpMetaOfferWidget",v=class extends a.Component{constructor(e){super(e),this.clickedExpand=()=>{this.setState({expanded:!0})},this.clickedCollapse=()=>{this.setState({expanded:!1})},this.state={expanded:!1}}getNumOffersToShow(){var{offers:e,limit:t}=this.props;return t>0?Math.min(e.length,t):e.length}renderDefaultAltTreatment(){return a.createElement(f,{mobile:this.renderInlineAltTreatment(),tablet:this.renderPopoverAltTreatment(),desktop:this.renderPopoverAltTreatment()})}renderPopoverAltTreatment(){var{offers:e,altType:t,limit:l,viewDealText:r,onViewDeal:s}=this.props,o={},n=this.getNumOffersToShow(),i=j(e),m=i?G(n,i):V(n);return a.createElement("div",{className:F.popoverAltTreatment},a.createElement(p,{below:!0,alignEdge:"left",minWidth:160,closeButton:!1,contents:()=>a.createElement("div",{className:F.popoverInner},a.createElement(U,{offers:e.slice(0,l),displayType:t,viewDealText:r,onViewDeal:s}))},(e,t)=>a.createElement("a",{ref:e,style:o,onClick:t,className:F.expanderDesktop},m,a.createElement(c,{name:"caret-down"}))))}renderInlineAltTreatment(){var{expanded:e=!1}=this.state,{offers:t,limit:l,viewDealText:r,onViewDeal:s,altType:o}=this.props,n=this.getNumOffersToShow(),c=j(t),d=c?G(n,c):V(n),p=a.createElement(W,{expand:this.clickedExpand},d),f=m("collapse_deals"),u=a.createElement("a",{onClick:this.clickedCollapse,className:i("ui_button secondary",F.expanderMobile)},f);return a.createElement("div",{className:F.inlineAltTreatment},e?a.createElement(U,{displayType:o,offers:t.slice(0,l),viewDealText:r,onViewDeal:s,separator:!0}):null,a.createElement("div",{className:F.footer},e?u:p))}renderAltTreatment(){var{offers:e,show:t,altTreatment:a,altType:l}=this.props,r=null;return"none"!==l&&e&&e.length>t&&(r="inline"===a?this.renderInlineAltTreatment():"popover"===a?this.renderPopoverAltTreatment():this.renderDefaultAltTreatment()),r}render(){var{mainType:e,offers:t,viewDealText:l,onViewDeal:r,show:s,limit:o}=this.props,{expanded:n}=this.state;return a.createElement("div",{className:i(F.metaOfferWidget,n?F.expanded:F.collapsed)},a.createElement(U,{displayType:e,offers:t.slice(0,s),limit:o,viewDealText:l,onViewDeal:r,className:F.vpOfferList}),this.renderAltTreatment())}}),v.defaultProps={onViewDeal:()=>{},show:1,mainType:"detailChevron",altType:"text",altTreatment:"default",limit:25},P=encodeURIComponent,e({OFFER_SOURCE:H,ORIG_AIRPORT_LARGEST_FOR_POS:"LARGEST_FOR_POS",STATUS:M,VpMetaOfferWidget:v,VpOffer:N,VpOfferList:U,bindVpData:X,extractNumNights:J,trackEventAJAX:q,trackEventAJAXOnPageOnce:Y})},[e=>a=e,e=>l=e.connect,e=>r=e.CdnImage,e=>s=e.default,e=>(o=e.Columns,n=e.Column),e=>i=e.default,e=>c=e.Icon,e=>m=e.localize,e=>d=e.default,e=>p=e.default,e=>f=e.ViewportCategory,e=>u=e.bindDataApiPoller,e=>(_=e.decode,T=e.CalendarDate),e=>(E=e.default,h=e.trackEventAJAXOnPageOnce)]]},["cDcdfi","h74DsO","4kVXmt","oiya90","_AgNiB","jSLlaY","_qQcW3","535agn","PCbs_l","eDFcUX","FjihCs","LgmAJW","qK4vTI","Jk5sjx"]]);
