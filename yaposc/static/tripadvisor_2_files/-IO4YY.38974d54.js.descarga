(this.$WP=this.$WP||[]).push(["-IO4YY",(e,i)=>{"use strict";var a,n,l,d,t,u,m,r,s,k,o,v,c,b=!1,N=!1,g=!1,I=e=>{var i,t,c,I,p,f,{client:S,dataStrategy:y,locationId:A,passThroughOptions:h,renderAlbum:F,referenceMediaId:T,queryNode:V,albumId:M,subAlbumId:O,selectImagesServerSide:R,filter:E}=e,D=m(S,y,A,null==h?void 0:h.isSponsored),[C,P]=a.useState(!1),_=a.useRef(0),[x,q]=a.useState(R),[w]=a.useContext(d),Y={locationId:A,albumId:M,subAlbumId:O,client:S,dataStrategy:y,filter:E||u(),referenceMediaId:C?null:T},L=w.path,[{fetching:W,data:z,error:G},K]=n({query:V,variables:Y,pause:!A||!x}),Q=null==z||null==(i=z.mediaAlbum)?void 0:i.status,X=!(null==z||null==(t=z.mediaAlbum)||null==(c=t.album)?void 0:c.mediaList)||500===Q,$=404===Q;if(a.useEffect(()=>{q(!0)},[]),a.useEffect(()=>{W||G||!z||((e,i)=>{var a,n="",l=null==e||null==(a=e.mediaAlbum)?void 0:a.album;if(l)if(200!==e.mediaAlbum.status)n=r;else if(0===l.totalMediaCount)n=k;else{var d;n=(null==(d=l.mediaList)?void 0:d[0])?v:o}else n=k;i(n)})(z,D)},[W,G,z,D]),a.useEffect(()=>{!W&&$&&!C&&x&&P(!0)},[W,$,C,x]),a.useEffect(()=>{!W&&X&&x&&(_.current<1?(_.current++,K()):N||(N=!0))},[W,X,K,A,S,L,x]),a.useEffect(()=>{!W&&G&&(D(r),b||(b=!0,null==G||G.message),200!==Q||g||(g=!0,null==G||G.message))},[W,Q,G]),!W&&(X||404===Q))return F({root:null,response:null,album:{totalMediaCount:0},loading:!1,client:S,locationId:A,passThroughOptions:h});var j=null==z||null==(I=z.mediaAlbum)||null==(p=I.album)?void 0:p.offset,B=T?j:null==h?void 0:h.selectedIndex,H={root:z,response:null==z?void 0:z.mediaAlbum,album:W?null:null==z||null==(f=z.mediaAlbum)?void 0:f.album,locationId:A,client:S,loading:W,passThroughOptions:Object.assign({},h,{selectedIndex:B})};return a.createElement(l,{errorRenderer:()=>(D(s),a.createElement("div",null))},F(H))},p=({locationId:e,client:i,dataStrategy:n,renderAlbum:l,selectImagesServerSide:d,filter:u,albumId:m,subAlbumId:r,passThroughOptions:s,referenceMediaId:k})=>{var o=t(),v=i||o;return a.createElement(I,{queryNode:c,locationId:e,albumId:m,subAlbumId:r,client:v,dataStrategy:n,renderAlbum:l,selectImagesServerSide:d,filter:u,referenceMediaId:k,passThroughOptions:s})};return[()=>{(c=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"MVACMediaAlbumQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"albumId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"subAlbumId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"client"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"dataStrategy"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"filter"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"FilterInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"mediaAlbum"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"Argument","name":{"kind":"Name","value":"subAlbumId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"subAlbumId"}}},{"kind":"Argument","name":{"kind":"Name","value":"albumId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"albumId"}}},{"kind":"Argument","name":{"kind":"Name","value":"client"},"value":{"kind":"Variable","name":{"kind":"Name","value":"client"}}},{"kind":"Argument","name":{"kind":"Name","value":"dataStrategy"},"value":{"kind":"Variable","name":{"kind":"Name","value":"dataStrategy"}}},{"kind":"Argument","name":{"kind":"Name","value":"filter"},"value":{"kind":"Variable","name":{"kind":"Name","value":"filter"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"statusMessage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"album"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"albumId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"subAlbumId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"translationKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"dataStrategy"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"offset"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"totalMediaCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaList"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"type"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":625}}')).__key=0x7dc3fc9c5b5f,e("VanillaClientSideMediaAlbumContainer",p)},[e=>a=e,e=>n=e.useQuery,e=>l=e.ErrorBoundary,e=>d=e.Route,e=>(t=e.useClientName,u=e.getMediaFilterToRetrieveAllPhotos),e=>(m=e.useMediaTracking,r=e.ERROR_MSG,s=e.EXCEPTION,k=e.NO_PHOTO,o=e.PRIMARY_MISSING,v=e.PRIMARY_OK)]]},["cDcdfi","5X2em-","nIW_Rw","2R4xv2","wc54S1","zdk9wF"]]);
